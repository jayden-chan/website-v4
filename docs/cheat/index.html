<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158503713-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-158503713-1');
    </script>
    <meta charset="utf-8" />

    <title>Cheatsheet</title>
    <meta
      name="description"
      content="3A Software Engineering Student at the University of Victoria"
    />
    <meta name="author" content="Jayden Chan" />

    <link
  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700&display=swap"
  rel="stylesheet"
/>
    <link rel="stylesheet" href="/styles.css" />
    <script>
      function filterBySearchText() {
        const input = document.getElementById('cheatPageInputID');
        const text = input.value.toUpperCase();
        const ul = document.getElementById('cheatPageListID');
        const li = ul.getElementsByTagName('li');

        let a, txtValue;
        for (let i = 0; i < li.length; i++) {
          a = li[i].getElementsByTagName('h3')[0];
          txtValue = a.textContent || a.innerText;
          if (txtValue.toUpperCase().indexOf(text) > -1) {
            li[i].style.display = '';
          } else {
            li[i].style.display = 'none';
          }
        }
      }
    </script>
  </head>

  <body>
    <header class="centering-h base-wrapper"><div class="fadein mt-32 w-full md:max-w-5xl"><h1 class="text-5xl font-bold mx-4">Cheatsheet</h1><div style="border-bottom-color:white;border-bottom-width:1px" class="mb-6 mx-4"></div><form class="mx-4"><input type="text" name="search" id="cheatPageInputID" onkeyup="filterBySearchText()" placeholder="Type to search" class="text-black min-w-full mb-6 p-2 rounded-lg"/></form><ul id="cheatPageListID" class="mx-4"><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Rename a user</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2"><span class="hljs-comment"># Create a new temp account with sudo rights</span>
sudo adduser temp
sudo adduser temp sudo

<span class="hljs-comment"># Log out from your current account and back in with the temp account on a new TTY</span>
<span class="hljs-comment"># Rename user and home dir</span>
sudo usermod -l new-username -m -d /home/new-username old-username

<span class="hljs-comment"># Rename your username default's group:</span>
sudo groupmod -n new-username old-username

<span class="hljs-comment"># Log out from temp account and log back into your account with new-username.</span>
<span class="hljs-comment"># Remove temp account</span>
sudo userdel -r temp
</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">user</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Vim] Paste contents of macro into command line</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">:ctrl-r ctrl-r &lt;register&gt;</pre><small>Tags:<span class="ml-2">vim,</span><span class="ml-2">macro</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Pipe command output to clipboard</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2"><span class="hljs-built_in">command</span> | xclip -selection c</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">clipboard,</span><span class="ml-2">pipe,</span><span class="ml-2">command</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Convert JPGs to PDF</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">convert 1.jpg 2.jpg -rotate 90 -page Letter -quality 50 out.pdf</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">convert</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Concatenate PDFs</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">pdftk one.pdf two.pdf cat output combined.pdf</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">concat</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Show disk space usage for current folder</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">du -sch *  | sort -h</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">disk</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Remap caps lock to escape</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">xmodmap -e <span class="hljs-string">"clear lock"</span>
xmodmap -e <span class="hljs-string">"keysym Caps_Lock = Escape"</span>
</pre><small>Tags:<span class="ml-2">linux</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Change key repeat rate and delay</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">xset r rate 270 35</pre><small>Tags:<span class="ml-2">linux</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Setting up CUPS</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">yay -S cups
systemctl <span class="hljs-built_in">enable</span> org.cups.cupsd.service
systemctl start org.cups.cupsd.service
sudo usermod -a -G sys jayden <span class="hljs-comment"># Prevent forbidden errors</span>
xdg-open http://localhost:631
</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">printing,</span><span class="ml-2">CUPS</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Show GPU information</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">lspci -vnn | rg VGA -A 12</pre><small>Tags:<span class="ml-2">linux,</span><span class="ml-2">sysinfo</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Git] Show the total number of commits</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">git rev-list --count --all</pre><small>Tags:<span class="ml-2">git</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Vim] Retain all lines matching a pattern</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">:v/pattern/d
</pre><small>Tags:<span class="ml-2">vim,</span><span class="ml-2">command,</span><span class="ml-2">regex</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Vim] Delete all lines matching pattern</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">:g/pattern/d
</pre><small>Tags:<span class="ml-2">vim,</span><span class="ml-2">command,</span><span class="ml-2">regex</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Linux] Change the timezone</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">timedatectl set-timezone Canada/Mountain</pre><small>Tags:<span class="ml-2">oneliners,</span><span class="ml-2">linux</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[JavaScript] Array with numbers 0..n</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">[...Array(n).keys()].map(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> ...)</pre><small>Tags:<span class="ml-2">oneliners,</span><span class="ml-2">js/ts</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Git] Show the total number of commits</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">git rev-list --count --all</pre><small>Tags:<span class="ml-2">oneliners,</span><span class="ml-2">git</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[ImageMagick] Crop</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">convert image.png -crop &lt;size_x&gt;x&lt;size_y&gt;+&lt;position_x&gt;+&lt;position_y&gt; out.png
</pre><small>Tags:<span class="ml-2">imagemagick,</span><span class="ml-2">convert</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[ImageMagick] Scale</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">convert image.png -resize 200% out.png
</pre><small>Tags:<span class="ml-2">imagemagick,</span><span class="ml-2">convert</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[ImageMagick] Retain pixels over a certain brightness threshold</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">convert image.png -threshold 80% out.png
</pre><small>Tags:<span class="ml-2">imagemagick,</span><span class="ml-2">convert</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[ImageMagick] Invert</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2">convert image.png -negate out.png
</pre><small>Tags:<span class="ml-2">imagemagick,</span><span class="ml-2">convert</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[JavaScript] Regex one-liner</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2"><span class="hljs-keyword">const</span> [match, group1, group2, group3] = myString.match(<span class="hljs-regexp">/regex/</span>) ?? [];
</pre><small>Tags:<span class="ml-2">js/ts,</span><span class="ml-2">regex</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[JavaScript] Get all regex matches</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2"><span class="hljs-keyword">const</span> regex = <span class="hljs-regexp">/the_regex/g</span>;

<span class="hljs-keyword">let</span> m;

<span class="hljs-keyword">do</span> {
  m = regex.exec(str);
  <span class="hljs-keyword">if</span> (m) {
    ...
  }
} <span class="hljs-keyword">while</span> (m !== <span class="hljs-literal">null</span>);
</pre><small>Tags:<span class="ml-2">js/ts,</span><span class="ml-2">regex</span></small></div></li><li><div class="rounded-lg bg-white p-8 mb-6" style="color:#1B1F22"><h3 class="font-bold text-3xl">[Rust] Connect to a postgres db with SSL and an r2d2 connection pool</h3><p class="text-lg"></p><pre class="text-base my-4 rounded-lg p-3 overflow-x-auto" style="background-color:#1D2021;color:#EBDBB2"><span class="hljs-keyword">use</span> openssl::ssl::{SslConnector, SslMethod};
<span class="hljs-keyword">use</span> postgres_openssl::MakeTlsConnector;
<span class="hljs-keyword">use</span> r2d2_postgres::PostgresConnectionManager;
<span class="hljs-keyword">use</span> std::thread;

<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> builder = SslConnector::builder(SslMethod::tls()).unwrap();
    builder.set_verify(openssl::ssl::SslVerifyMode::NONE);
    <span class="hljs-keyword">let</span> connector = MakeTlsConnector::new(builder.build());

    <span class="hljs-keyword">let</span> manager = PostgresConnectionManager::new(
        <span class="hljs-string">"DATABASE_URL"</span>.parse().unwrap(),
        connector,
    );
    <span class="hljs-keyword">let</span> pool = r2d2::Pool::new(manager).unwrap();

    <span class="hljs-keyword">let</span> pool = pool.clone();
    <span class="hljs-keyword">let</span> join_handler = thread::spawn(<span class="hljs-keyword">move</span> || {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"doing the stuff"</span>);
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> client = pool.get().unwrap();
        <span class="hljs-keyword">let</span> results = client.query(<span class="hljs-string">"SELECT * FROM test_data"</span>, &amp;[]).unwrap();

        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:#?}"</span>, results[<span class="hljs-number">0</span>].get::&lt;<span class="hljs-built_in">usize</span>, <span class="hljs-built_in">String</span>&gt;(<span class="hljs-number">0</span>));
    });

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"waiting"</span>);
    join_handler.join().unwrap();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"done"</span>);
}
</pre><small>Tags:<span class="ml-2">SETTMMTOHTS,</span><span class="ml-2">rust,</span><span class="ml-2">postgres</span></small></div></li></ul></div></header>
  </body>
</html>
